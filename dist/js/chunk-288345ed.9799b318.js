(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-288345ed"],{"5bc7":function(t,e,a){},aadb:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-center"},[a("create-button",{attrs:{item:t.$t("project")},on:{action:function(e){t.creating=!0}}})],1),a("v-select",{attrs:{items:t.types,label:"Type",outlined:""},model:{value:t.activeType,callback:function(e){t.activeType=e},expression:"activeType"}}),t.loading_projects||t.projects.length?t.loading_projects||t.activeProjects.length?t._e():a("h4",{staticClass:"text-center"},[t._v(" -- "+t._s(t.$t("data.empty_typed",{item:t.$t("project")}))+" -- ")]):a("h4",{staticClass:"text-center"},[t._v(" -- "+t._s(t.$t("data.empty",{item:t.$t("project")}))+" -- ")]),t.loading_projects?a("div",{staticClass:"d-flex flex-column"},[a("skeleton-index")],1):a("div",[a("transition-group",{staticClass:"projects d-flex flex-column",attrs:{name:"list-complete",tag:"p"}},t._l(t.activeProjects,(function(e,i){return a("div",{key:e.id,staticClass:"list-complete-item"},[a("card-project",{attrs:{project:e,index:i,expanded:e.expanded},on:{toogleExpand:function(a){return t.toogleExpand(e.id)},openEdit:t.openEdit,deleteProject:t.SEND_PROJECT_DELETION,toogleImage:t.toogleImage}})],1)})),0),a("v-dialog",{attrs:{width:"500"},model:{value:t.creating,callback:function(e){t.creating=e},expression:"creating"}},[a("create-project",{on:{closeCreation:t.closeCreation}})],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.editing,callback:function(e){t.editing=e},expression:"editing"}},[a("edit-project",{attrs:{propProject:t.editionProject},on:{closeEdit:t.closeEdit}})],1),a("v-dialog",{attrs:{width:"90%"},model:{value:t.expand_image,callback:function(e){t.expand_image=e},expression:"expand_image"}},[a("image-popup",{attrs:{image:t.expanded_image},on:{toogleImage:t.toogleImage}})],1)],1)],1)},n=[],c=(a("4de4"),a("fb6a"),a("5530")),o=a("2f62"),r=(a("bc3a"),a("1d77")),s=a("8c7d"),l=a("8c56"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"black",height:"90vh"}},[a("v-btn",{staticClass:"close",attrs:{color:"secondary",fab:"","x-small":"",dark:""},on:{click:function(e){return t.$emit("toogleImage")}}},[a("v-icon",[t._v("close")])],1),a("v-img",{attrs:{contain:"",height:"90vh","aspect-ratio":"1","lazy-src":t.image.thumb,src:t.image.full},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])})],1)},u=[],p={data:function(){return{}},props:{image:Object}},h=p,g=(a("c159"),a("2877")),f=a("6544"),m=a.n(f),v=a("8336"),j=a("b0af"),_=a("132d"),b=a("adda"),E=a("490a"),O=a("0fd9"),x=Object(g["a"])(h,d,u,!1,null,"14c69fec",null),y=x.exports;m()(x,{VBtn:v["a"],VCard:j["a"],VIcon:_["a"],VImg:b["a"],VProgressCircular:E["a"],VRow:O["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{staticClass:"center mb-8 green lighten-1",attrs:{large:"",justify:"center",align:"center"},on:{click:function(e){return t.$emit("action")}}},[t._v(" "+t._s(t.$t("actions.create",{item:t.item}))+" ")])},P=[],T=a("d4ec"),k=a("262e"),$=a("2caf"),I=a("9ab4"),w=a("2b0e"),V=a("60a3"),J=function(t){Object(k["a"])(a,t);var e=Object($["a"])(a);function a(){return Object(T["a"])(this,a),e.apply(this,arguments)}return a}(w["default"]);Object(I["a"])([Object(V["b"])(String)],J.prototype,"item",void 0),J=Object(I["a"])([V["a"]],J);var S=J,D=S,L=Object(g["a"])(D,C,P,!1,null,null,null),R=L.exports;m()(L,{VBtn:v["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l([1,2,3,4],(function(t){return a("v-skeleton-loader",{key:t,staticClass:"boilerplate ma-1 elevation-3",attrs:{height:"60",type:"table-heading"}})})),1)},A=[],G=function(t){Object(k["a"])(a,t);var e=Object($["a"])(a);function a(){return Object(T["a"])(this,a),e.apply(this,arguments)}return a}(w["default"]);G=Object(I["a"])([V["a"]],G);var B=G,X=B,z=a("3129"),q=Object(g["a"])(X,N,A,!1,null,null,null),F=q.exports;m()(q,{VSkeletonLoader:z["a"]});var H={name:"Projects",components:{EditProject:r["a"],CreateProject:s["a"],CardProject:l["a"],ImagePopup:y,CreateButton:R,SkeletonIndex:F},data:function(){return{hash:null,place_id:this.$route.params.id,expand_image:!1,expanded_image:{},editing:!1,creating:!1,activeType:"",editionProject:{}}},mounted:function(){this.activeType=this.types[0],location.hash&&(this.hash=location.hash),location.hash="";var t={place_id:this.place_id,hash:this.hash};this.GET_PLACE_PROJECTS(t)},watch:{loading_projects:function(){var t=this;!1===this.loading_projects&&this.$nextTick((function(){if(t.hash){var e=t.hash.slice(1);t.TOOGLE_PROJECT_EXPAND(e),setTimeout((function(){document.getElementById(e).scrollIntoView({behavior:"smooth"})}),300)}}))},types:function(){this.activeType=this.types[0]}},computed:Object(c["a"])(Object(c["a"])({},Object(o["c"])("project",["loading_projects","projects"])),{},{types:function(){return[this.$t("all"),"ferme","Ã©colieu","autre"]},activeProjects:function(){var t=this;return this.activeType===this.$t("all")?this.projects:this.projects.filter((function(e){return e.type===t.activeType}))}}),methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])("project",["GET_PLACE_PROJECTS","SEND_PROJECT_DELETION","TOOGLE_PROJECT_EXPAND"])),Object(o["d"])("project",["closeExpands"])),{},{openEdit:function(t){this.editionProject=this.projects[t],this.editing=!0},closeEdit:function(){this.editing=!1,this.editionProject={}},closeCreation:function(){this.creating=!1},toogleImage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.expanded_image=t,this.expand_image=!this.expand_image},toogleExpand:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.TOOGLE_PROJECT_EXPAND(t)}})},K=H,M=(a("e11a"),a("169a")),Q=a("b974"),U=Object(g["a"])(K,i,n,!1,null,"d6e3dca0",null);e["default"]=U.exports;m()(U,{VDialog:M["a"],VSelect:Q["a"]})},c159:function(t,e,a){"use strict";a("5bc7")},c9ae:function(t,e,a){},e11a:function(t,e,a){"use strict";a("c9ae")}}]);
//# sourceMappingURL=chunk-288345ed.9799b318.js.map