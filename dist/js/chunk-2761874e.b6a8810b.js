(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2761874e"],{1673:function(t,e,a){"use strict";a("e8b4")},"451f":function(t,e,a){"use strict";a("726e")},"726e":function(t,e,a){},aadb:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-center"},[a("create-button",{attrs:{item:t.$t("project")},on:{action:function(e){t.creating=!0}}})],1),a("v-select",{attrs:{items:t.types,label:"Type",outlined:""},model:{value:t.activeType,callback:function(e){t.activeType=e},expression:"activeType"}}),t.loading_projects||t.projects.length?t.loading_projects||t.activeProjects.length?t._e():a("h4",{staticClass:"text-center"},[t._v(" -- "+t._s(t.$t("data.empty_typed",{item:t.$t("project")}))+" -- ")]):a("h4",{staticClass:"text-center"},[t._v(" -- "+t._s(t.$t("data.empty",{item:t.$t("project")}))+" -- ")]),t.loading_projects?a("div",{staticClass:"d-flex flex-column"},[a("skeleton-index")],1):a("div",[a("transition-group",{staticClass:"projects d-flex flex-column",attrs:{name:"list-complete",tag:"p"}},t._l(t.activeProjects,(function(e,i){return a("div",{key:e.id,staticClass:"list-complete-item"},[a("card-project",{attrs:{project:e,index:i,expanded:e.expanded},on:{toogleExpand:function(a){return t.toogleExpand(e.id)},openEdit:t.openEdit,deleteProject:t.SEND_PROJECT_DELETION,toogleImage:t.toogleImage}})],1)})),0),a("v-dialog",{attrs:{width:"500"},model:{value:t.creating,callback:function(e){t.creating=e},expression:"creating"}},[a("create-project",{on:{closeCreation:t.closeCreation}})],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.editing,callback:function(e){t.editing=e},expression:"editing"}},[a("edit-project",{attrs:{propProject:t.editionProject},on:{closeEdit:t.closeEdit}})],1),a("v-dialog",{attrs:{width:"90%"},model:{value:t.expand_image,callback:function(e){t.expand_image=e},expression:"expand_image"}},[a("image-popup",{attrs:{image:t.expanded_image},on:{toogleImage:t.toogleImage}})],1)],1)],1)},n=[],o=(a("4de4"),a("fb6a"),a("5530")),c=a("2f62"),s=(a("bc3a"),a("1d77")),r=a("8c7d"),l=a("8c56"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"black",height:"90vh"}},[a("v-btn",{staticClass:"close",attrs:{color:"secondary",fab:"","x-small":"",dark:""},on:{click:function(e){return t.$emit("toogleImage")}}},[a("v-icon",[t._v("close")])],1),a("v-img",{attrs:{contain:"",height:"90vh","aspect-ratio":"1","lazy-src":t.image.thumb,src:t.image.full},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])})],1)},p=[],u=a("a6f4"),h=Object(u["c"])({name:"ImagePopup",props:{image:Object}}),g=h,m=(a("451f"),a("2877")),f=a("6544"),v=a.n(f),j=a("8336"),_=a("b0af"),b=a("132d"),E=a("adda"),x=a("490a"),O=a("0fd9"),y=Object(m["a"])(g,d,p,!1,null,"715d55e6",null),C=y.exports;v()(y,{VBtn:j["a"],VCard:_["a"],VIcon:b["a"],VImg:E["a"],VProgressCircular:x["a"],VRow:O["a"]});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{staticClass:"center mb-8 green lighten-1",attrs:{large:"",justify:"center",align:"center"},on:{click:function(e){return t.$emit("action")}}},[t._v(" "+t._s(t.$t("actions.create",{item:t.item}))+" ")])},T=[],k=Object(u["c"])({name:"CreateButton",props:{item:String}}),$=k,I=Object(m["a"])($,P,T,!1,null,null,null),w=I.exports;v()(I,{VBtn:j["a"]});var V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l([1,2,3,4],(function(t){return a("v-skeleton-loader",{key:t,staticClass:"boilerplate ma-1 elevation-3",attrs:{height:"60",type:"table-heading"}})})),1)},J=[],S=a("3129"),D={},L=Object(m["a"])(D,V,J,!1,null,null,null),R=L.exports;v()(L,{VSkeletonLoader:S["a"]});var N={name:"Projects",components:{EditProject:s["a"],CreateProject:r["a"],CardProject:l["a"],ImagePopup:C,CreateButton:w,SkeletonIndex:R},data:function(){return{hash:null,place_id:this.$route.params.id,expand_image:!1,expanded_image:{},editing:!1,creating:!1,activeType:"",editionProject:{}}},mounted:function(){this.activeType=this.types[0],location.hash&&(this.hash=location.hash),location.hash="";var t={place_id:this.place_id,hash:this.hash};this.GET_PLACE_PROJECTS(t)},watch:{loading_projects:function(){var t=this;!1===this.loading_projects&&this.$nextTick((function(){if(t.hash){var e=t.hash.slice(1);t.TOOGLE_PROJECT_EXPAND(e),setTimeout((function(){document.getElementById(e).scrollIntoView({behavior:"smooth"})}),300)}}))},types:function(){this.activeType=this.types[0]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])("project",["loading_projects","projects"])),{},{types:function(){return[this.$t("all"),"ferme","Ã©colieu","autre"]},activeProjects:function(){var t=this;return this.activeType===this.$t("all")?this.projects:this.projects.filter((function(e){return e.type===t.activeType}))}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])("project",["GET_PLACE_PROJECTS","SEND_PROJECT_DELETION","TOOGLE_PROJECT_EXPAND"])),Object(c["d"])("project",["closeExpands"])),{},{openEdit:function(t){this.editionProject=this.projects[t],this.editing=!0},closeEdit:function(){this.editing=!1,this.editionProject={}},closeCreation:function(){this.creating=!1},toogleImage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.expanded_image=t,this.expand_image=!this.expand_image},toogleExpand:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.TOOGLE_PROJECT_EXPAND(t)}})},A=N,B=(a("1673"),a("169a")),G=a("b974"),X=Object(m["a"])(A,i,n,!1,null,"75a237f4",null);e["default"]=X.exports;v()(X,{VDialog:B["a"],VSelect:G["a"]})},e8b4:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2761874e.b6a8810b.js.map