(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account"],{"08e8":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("v-card",{staticClass:"pt-7 pb-3"},[a("v-card-text",{staticClass:"text-h6"},[e._v(" "+e._s(e._f("capitalize")(e.$t("confirm.sure")))),a("br"),e._v(" "+e._s(e.text)+" ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:"",disabled:e.loading},on:{click:function(t){return e.$emit("cancel-action")}}},[e._v(" "+e._s(e.cancel)+" ")]),a("v-btn",{attrs:{color:e.confirm_color,text:"",disabled:e.loading},on:{click:function(t){return e.$emit("confirm-action")}}},[e._v(" "+e._s(e.confirm)+" ")])],1),a("loading-bar",{attrs:{loading:e.loading}})],1)],1)},s=[],r=a("d4ec"),n=a("262e"),i=a("2caf"),l=a("9ab4"),c=a("2b0e"),d=a("60a3"),u=a("3b7a"),b=function(e){Object(n["a"])(a,e);var t=Object(i["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return a}(c["default"]);Object(l["a"])([Object(d["b"])(Boolean)],b.prototype,"show",void 0),Object(l["a"])([Object(d["b"])(String)],b.prototype,"text",void 0),Object(l["a"])([Object(d["b"])(String)],b.prototype,"cancel",void 0),Object(l["a"])([Object(d["b"])(String)],b.prototype,"confirm",void 0),Object(l["a"])([Object(d["b"])({default:"primary"})],b.prototype,"confirm_color",void 0),Object(l["a"])([Object(d["b"])({default:!1})],b.prototype,"loading",void 0),b=Object(l["a"])([Object(d["a"])({name:"ConfirmDialog",components:{LoadingBar:u["a"]}})],b);var f=b,p=f,m=a("2877"),v=a("6544"),_=a.n(v),g=a("8336"),O=a("b0af"),E=a("99d9"),w=a("169a"),j=a("ce7e"),h=a("2fa4"),U=Object(m["a"])(p,o,s,!1,null,null,null);t["a"]=U.exports;_()(U,{VBtn:g["a"],VCard:O["a"],VCardActions:E["a"],VCardText:E["b"],VDialog:w["a"],VDivider:j["a"],VSpacer:h["a"]})},1994:function(e,t,a){},"3b7a":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?a("v-progress-linear",{staticClass:"progress",attrs:{color:"green darken-4 accent-4",indeterminate:"",rounded:"",height:"6"}}):e._e()},s=[],r=a("a6f4"),n=Object(r["c"])({name:"LoadingBar",props:{loading:Boolean}}),i=n,l=(a("6e9d"),a("2877")),c=a("6544"),d=a.n(c),u=a("8e36"),b=Object(l["a"])(i,o,s,!1,null,"3c94f8d6",null);t["a"]=b.exports;d()(b,{VProgressLinear:u["a"]})},"466e":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("primary-content-body",[a("div",{staticClass:"d-flex flex-column align-center"},[a("page-title",{attrs:{title:e.$t("my account")}}),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{staticClass:"my-4",attrs:{justify:"center"}},[a("image-input",{attrs:{nullable:"",circle:"",default_image:"avatar",image:e.editedUser.image},on:{update:e.changeImage}})],1),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[e.errors.name?a("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(" "+e._s(e.errors.name[0])+" ")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",autocomplete:"disabled",rules:[e.rules.required[0]],label:e.firstNameLabel,maxlength:"20",required:"",disabled:e.loading},model:{value:e.editedUser.name,callback:function(t){e.$set(e.editedUser,"name",t)},expression:"editedUser.name"}})],1),a("v-spacer"),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"",autocomplete:"disabled",label:e.lastNameLabel,maxlength:"20",required:"",disabled:e.loading},model:{value:e.editedUser.last_name,callback:function(t){e.$set(e.editedUser,"last_name",t)},expression:"editedUser.last_name"}})],1),a("v-col",{attrs:{cols:"12"}},[e.errors.email?a("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(" "+e._s(e.errors.email[0])+" ")]):e._e()],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",id:"email",rules:[e.rules.required[0],e.rules.email[0]],label:e.$options.filters.capitalize(e.$t("e-mail")),required:"",disabled:e.loading},model:{value:e.editedUser.email,callback:function(t){e.$set(e.editedUser,"email",t)},expression:"editedUser.email"}})],1),a("v-col",{staticClass:"mb-4",attrs:{cols:"12"}},[a("tags-input",{attrs:{tags:e.editedUser.tags,label:"Mes tags"},on:{update:function(t){e.editedUser.tags=t}}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",autocomplete:"disabled","append-icon":e.show_password?"mdi-eye":"mdi-eye-off",rules:[e.rules.min(8)[0]],type:e.show_password?"text":"password",name:"input-10-1",label:e.$options.filters.capitalize(e.$tc("password",1)),hint:e.$options.filters.capitalize(e.$t("form.min_carac",{n:"8"})),counter:"",disabled:e.loading},on:{"click:append":function(t){e.show_password=!e.show_password}},model:{value:e.editedUser.password,callback:function(t){e.$set(e.editedUser,"password",t)},expression:"editedUser.password"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",autocomplete:"disabled",block:"","append-icon":e.show_password?"mdi-eye":"mdi-eye-off",rules:[e.rules.match(e.editedUser.password,e.editedUser.password_confirmation)[0]],type:e.show_password?"text":"password",name:"input-10-1",label:e.$options.filters.capitalize(e.$t("confirmation")),counter:"",disabled:e.loading},on:{"click:append":function(t){e.show_password=!e.show_password}},model:{value:e.editedUser.password_confirmation,callback:function(t){e.$set(e.editedUser,"password_confirmation",t)},expression:"editedUser.password_confirmation"}})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"d-flex flex-column",attrs:{cols:"12",sm:"auto",xsm:"12"}},[a("v-btn",{staticClass:"d-block mb-4",attrs:{color:"success",disabled:!e.valid||e.loading},on:{click:e.editUser}},[e._v(" "+e._s(e.$t("save"))+" ")]),a("v-btn",{staticClass:"d-block my-4",attrs:{color:"grey",disabled:e.loading},on:{click:e.logout}},[e._v(" "+e._s(e.$t("logout"))+" ")]),a("v-btn",{staticClass:"d-block",attrs:{color:"red",disabled:e.loading},on:{click:function(t){e.dialog=!0}}},[e._v(" "+e._s(e.$t("delete my account"))+" ")])],1)],1)],1),a("confirm-dialog",{attrs:{show:e.dialog,text:e.$t("Account deletion is definitive."),cancel:e.$t("confirm.cancel"),confirm:e.$t("delete"),confirm_color:"red",loading:e.loading_deletion},on:{"cancel-action":function(t){e.dialog=!1},"confirm-action":function(t){return e.deleteUser()}}})],1),a("loading-bar",{attrs:{loading:e.loading}})],1)},s=[],r=a("a6f4"),n=a("8d7e"),i=a("d5ad"),l=a("5928"),c=a("15f2"),d=a("3b7a"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v(e._s(e._f("capitalize")(e.title)))])},b=[],f=Object(r["c"])({name:"PageTitle",props:{title:String}}),p=f,m=a("2877"),v=Object(m["a"])(p,u,b,!1,null,null,null),_=v.exports,g=a("08e8"),O=a("b9a3"),E=a("9e03"),w=a("0ec5"),j=Object(r["c"])({name:"Account",components:{PrimaryContentBody:c["a"],PageTitle:_,ConfirmDialog:g["a"],ImageInput:O["a"],LoadingBar:d["a"],TagsInput:w["a"]},setup:function(e,t){var a=t.root,o=Object(i["a"])(),s=Object(r["f"])(!1),c=Object(r["f"])(!1),d=Object(r["f"])(!1),u=Object(r["f"])(null),b=Object(r["f"])(null),f=Object(r["f"])(!1),p=Object(r["f"])(!1),m=Object(r["f"])(new E["a"]),v=Object(n["a"])({SEND_USER_EDITION:"auth/SEND_USER_EDITION"}),_=v.SEND_USER_EDITION,g=Object(n["a"])({SEND_DELETE_USER:"auth/SEND_DELETE_USER"}),O=g.SEND_DELETE_USER,w=Object(n["a"])({SEND_LOGOUT_REQUEST:"auth/SEND_LOGOUT_REQUEST"}),j=w.SEND_LOGOUT_REQUEST,h=Object(n["b"])({user:"auth/user"}),U=h.user,x=Object(n["b"])({errors:"app/errors"}),$=x.errors;Object(r["e"])((function(){m.value=new E["a"](U.value)}));var S=Object(r["a"])((function(){return Object(l["a"])(a.$t("first name"))+" / "+Object(l["a"])(a.$t("alias"))})),y=Object(r["a"])((function(){return Object(l["a"])(a.$t("last name"))+" ("+a.$t("form.optional")+")"})),D=function(){u.value=b.value=null,p.value=!0,O(U.value).then((function(){p.value=!1,a.$router.push("/").catch((function(){}))})).catch((function(){p.value=!1,d.value=!1}))},k=function(){f.value=!0,_(m.value).then((function(){f.value=!1})).catch((function(){f.value=!1}))},T=function(e){m.value.image=e},N=function(){j()};return{dialog:d,success:u,error:b,loading:f,loading_deletion:p,editedUser:m,SEND_USER_EDITION:_,SEND_DELETE_USER:O,SEND_LOGOUT_REQUEST:j,logout:N,editUser:k,deleteUser:D,changeImage:T,show_password:c,rules:o,errors:$,firstNameLabel:S,lastNameLabel:y,valid:s}}}),h=j,U=a("6544"),x=a.n(U),$=a("0798"),S=a("8336"),y=a("62ad"),D=a("4bd4"),k=a("0fd9"),T=a("2fa4"),N=a("8654"),C=Object(m["a"])(h,o,s,!1,null,"64030dfb",null);t["default"]=C.exports;x()(C,{VAlert:$["a"],VBtn:S["a"],VCol:y["a"],VForm:D["a"],VRow:k["a"],VSpacer:T["a"],VTextField:N["a"]})},"6e9d":function(e,t,a){"use strict";a("1994")}}]);
//# sourceMappingURL=account.764601e7.js.map