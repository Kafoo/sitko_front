(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account"],{"08e8":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"500"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",{staticClass:"pt-7 pb-3"},[a("v-card-text",{staticClass:"text-h6"},[t._v(" "+t._s(t._f("capitalize")(t.$t("confirm.sure")))),a("br"),t._v(" "+t._s(t.text)+" ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:"",disabled:t.loading},on:{click:function(e){return t.$emit("cancel-action")}}},[t._v(" "+t._s(t.cancel)+" ")]),a("v-btn",{attrs:{color:t.confirm_color,text:"",disabled:t.loading},on:{click:function(e){return t.$emit("confirm-action")}}},[t._v(" "+t._s(t.confirm)+" ")])],1),a("loading-bar",{attrs:{loading:t.loading}})],1)],1)},o=[],c=a("d4ec"),i=a("262e"),r=a("2caf"),l=a("9ab4"),s=a("2b0e"),u=a("60a3"),d=a("3b7a"),g=function(t){Object(i["a"])(a,t);var e=Object(r["a"])(a);function a(){return Object(c["a"])(this,a),e.apply(this,arguments)}return a}(s["default"]);Object(l["a"])([Object(u["b"])(Boolean)],g.prototype,"show",void 0),Object(l["a"])([Object(u["b"])(String)],g.prototype,"text",void 0),Object(l["a"])([Object(u["b"])(String)],g.prototype,"cancel",void 0),Object(l["a"])([Object(u["b"])(String)],g.prototype,"confirm",void 0),Object(l["a"])([Object(u["b"])({default:"primary"})],g.prototype,"confirm_color",void 0),Object(l["a"])([Object(u["b"])({default:!1})],g.prototype,"loading",void 0),g=Object(l["a"])([Object(u["a"])({name:"ConfirmDialog",components:{LoadingBar:d["a"]}})],g);var b=g,f=b,p=a("2877"),_=a("6544"),m=a.n(_),v=a("8336"),h=a("b0af"),O=a("99d9"),j=a("169a"),E=a("ce7e"),y=a("2fa4"),S=Object(p["a"])(f,n,o,!1,null,null,null);e["a"]=S.exports;m()(S,{VBtn:v["a"],VCard:h["a"],VCardActions:O["a"],VCardText:O["b"],VDialog:j["a"],VDivider:E["a"],VSpacer:y["a"]})},"3a3a":function(t,e,a){"use strict";a("42a9")},"3b7a":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("v-progress-linear",{staticClass:"progress",attrs:{color:"green darken-4 accent-4",indeterminate:"",rounded:"",height:"6"}}):t._e()},o=[],c=a("a6f4"),i=Object(c["c"])({name:"LoadingBar",props:{loading:Boolean}}),r=i,l=(a("3a3a"),a("2877")),s=a("6544"),u=a.n(s),d=a("8e36"),g=Object(l["a"])(r,n,o,!1,null,"ba70c288",null);e["a"]=g.exports;u()(g,{VProgressLinear:d["a"]})},"42a9":function(t,e,a){},"466e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("primary-content-body",[a("page-title",{attrs:{title:t.$t("my account")}}),a("image-input",{attrs:{icon:"",image:t.user.image},on:{changeImage:t.editUser}}),t.loading_image?a("span",[t._v(" Updating ")]):t._e(),a("v-btn",{staticClass:"d-block my-4",attrs:{color:"grey",dark:""},on:{click:t.logout}},[t._v(" "+t._s(t.$t("logout"))+" ")]),a("v-btn",{staticClass:"d-block",attrs:{color:"red",dark:""},on:{click:function(e){t.dialog=!0}}},[t._v(" "+t._s(t.$t("delete my account"))+" ")]),a("confirm-dialog",{attrs:{show:t.dialog,text:t.$t("Account deletion is definitive."),cancel:t.$t("confirm.cancel"),confirm:t.$t("delete"),confirm_color:"red",loading:t.loading},on:{"cancel-action":function(e){t.dialog=!1},"confirm-action":function(e){return t.deleteUser()}}})],1)},o=[],c=a("5530"),i=a("2f62"),r=a("15f2"),l=a("9240"),s=a("08e8"),u=a("b9a3"),d={name:"Account",components:{PrimaryContentBody:r["a"],PageTitle:l["a"],ConfirmDialog:s["a"],ImageInput:u["a"]},data:function(){return{dialog:!1,success:null,error:null,loading:!1,loading_image:!1}},computed:Object(c["a"])({},Object(i["c"])("auth",["user"])),methods:Object(c["a"])(Object(c["a"])({},Object(i["b"])("auth",["SEND_USER_EDITION","SEND_DELETE_USER","SEND_LOGOUT_REQUEST"])),{},{deleteUser:function(){var t=this;this.success=this.error=null,this.loading=!0,this.SEND_DELETE_USER(this.user).then((function(){t.loading=!1,t.$router.push("/").catch((function(){}))})).catch((function(e){t.error="Error deleting user.",console.log(e.response)}))},editUser:function(t){var e=this;this.user.image=t,this.loading_image=!0,this.SEND_USER_EDITION(this.user).then((function(){e.loading_image=!1})).catch((function(t){e.loading_image=!1}))},logout:function(){this.SEND_LOGOUT_REQUEST()}})},g=d,b=a("2877"),f=a("6544"),p=a.n(f),_=a("8336"),m=Object(b["a"])(g,n,o,!1,null,"6650e01c",null);e["default"]=m.exports;p()(m,{VBtn:_["a"]})},9240:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v(t._s(t._f("capitalize")(t.title)))])},o=[],c=a("a6f4"),i=Object(c["c"])({name:"PageTitle",props:{title:String}}),r=i,l=a("2877"),s=Object(l["a"])(r,n,o,!1,null,null,null);e["a"]=s.exports}}]);
//# sourceMappingURL=account.9ca6e29b.js.map